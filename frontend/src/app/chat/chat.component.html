<div class="chat-container">
  <header class="chat-header">
    <div class="logo-title">
      <img src="assets/logo.png" alt="THWS Logo" class="thws-logo" />
      <h2>ESG Chatbot</h2>
    </div>

    <div class="header-actions">
      <label for="fileInput" class="upload-btn">Datei hochladen</label>
      <input
        type="file"
        id="fileInput"
        accept=".pdf"
        (change)="onFileSelected($event)"
        hidden
      />
      <button class="logout-btn" (click)="logout()">Abmelden</button>
    </div>
  </header>

  <div class="chat-window" #chatWindow>
    <div
      *ngFor="let msg of messages"
      [ngClass]="{ 'user-msg': msg.sender === 'user', 'bot-msg': msg.sender === 'bot' }"
      class="message"
    >
      <div class="msg-bubble">
        <p>{{ msg.text }}</p>
      </div>
    </div>
  </div>

  <form class="chat-input" (submit)="send(); $event.preventDefault()">
    <textarea
      [(ngModel)]="question"
      name="question"
      placeholder="Stelle eine ESG-bezogene Frage..."
      rows="2"
      required
      (keydown)="onKeyDown($event)"
    ></textarea>

    <button type="submit" [disabled]="loading || !question.trim()">
      {{ loading ? 'â€¦' : 'Senden' }}
    </button>
  </form>
</div>